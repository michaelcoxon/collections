!function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var e={};r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="dist/",r(r.s=7)}([function(t,r){t.exports=require("@michaelcoxon/utilities/lib/Exceptions")},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(0),o=function(){function t(r){this._baseArray=void 0===r?[]:t.collectionOrArrayToArray(r)}return Object.defineProperty(t.prototype,"count",{get:function(){return this._baseArray.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._baseArray.slice())},t.prototype.copyTo=function(t){(r=t._baseArray).push.apply(r,this._baseArray);var r},t.prototype.forEach=function(t){for(var r=0;r<this._baseArray.length&&!1!==t(this._baseArray[r],r);r++);},t.prototype.item=function(t){return this._baseArray[t]},t.prototype.toArray=function(){return this._baseArray.slice()},t.collectionOrArrayToArray=function(r){if(Array.isArray(r))return r.slice();if(r instanceof t)return r.toArray().slice();throw new n.InvalidTypeException("collectionOrArray","Collection or Array")},t}();r.Collection=o},function(t,r){t.exports=require("@michaelcoxon/utilities/lib/Utilities")},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(2),o=e(0),i=function(){function t(){}return t.prototype.compare=function(t,r){return"string"==typeof t&&"string"==typeof r?y.compare(t,r):"number"==typeof t&&"number"==typeof r?l.compare(t,r):h.compare(t,r)},t.prototype.equals=function(t,r){return"string"==typeof t&&"string"==typeof r?y.equals(t,r):"number"==typeof t&&"number"==typeof r?l.equals(t,r):h.equals(t,r)},t}();r.DefaultComparer=i;var u=function(){function t(){}return t.prototype.compare=function(t,r){return t<r?-1:t>r?1:0},t.prototype.equals=function(t,r){return t===r},t}();r.DefaultStringComparer=u;var a=function(){function t(){}return t.prototype.compare=function(t,r){return t-r},t.prototype.equals=function(t,r){return t===r},t}();r.DefaultNumberComparer=a;var c=function(){function t(){}return t.prototype.compare=function(t,r){return t.toString()!=={}.toString()&&r.toString()!=={}.toString()?y.compare(t.toString(),r.toString()):y.compare(n.getHash(t),n.getHash(r))},t.prototype.equals=function(t,r){return n.equals(t,r,!0)},t}();r.DefaultObjectComparer=c;var s=function(){function t(t){this._comparer=t}return t.prototype.compare=function(t,r){return this._comparer.compare(r,t)},t.prototype.equals=function(t,r){return this._comparer.equals(r,t)},t}();r.ReverseComparer=s;var p=function(){function t(t,r){this._comparer=t,this._equalityComparer=r}return t.prototype.compare=function(t,r){if(this._comparer)return this._comparer(t,r);throw new o.ArgumentUndefinedException("The comparer")},t.prototype.equals=function(t,r){if(this._equalityComparer)return this._equalityComparer(t,r);throw new o.ArgumentUndefinedException("The equality comparer")},t}();r.CustomComparer=p;var f=function(){function t(t,r){this._comparer=t,this._selector=r}return t.prototype.compare=function(t,r){var e=this._selector(t),n=this._selector(r);return this._comparer.compare(e,n)},t.prototype.equals=function(t,r){var e=this._selector(t),n=this._selector(r);return this._comparer.equals(e,n)},t}();r.MapComparer=f;var y=new u,l=new a,h=new c},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(1),o=e(0),i=function(){function t(t){if(this._pointer=-1,Array.isArray(t))this._baseArray=t.slice();else{if(!(t instanceof n.Collection))throw new o.InvalidTypeException("collectionOrArray","Collection or Array");this._baseArray=t.toArray().slice()}}return Object.defineProperty(t.prototype,"current",{get:function(){return(this._pointer>=this._baseArray.length||this._pointer<0)&&this.throwOutOfBoundsException(),this._baseArray[this._pointer]},enumerable:!0,configurable:!0}),t.prototype.moveNext=function(){return this._pointer<this._baseArray.length&&this._pointer++,this._pointer<this._baseArray.length},t.prototype.peek=function(){return this._pointer+1>=this._baseArray.length&&this.throwOutOfBoundsException(),this._baseArray[this._pointer+1]},t.prototype.reset=function(){this._pointer=-1},t.prototype.throwOutOfBoundsException=function(){throw new o.OutOfBoundsException("internal pointer",0,this._baseArray.length-1)},t}();r.Enumerator=i,n.Collection.prototype.getEnumerator=function(){return new i(this)}},function(t,r,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e(0),i=e(2),u=e(1),a=e(3),c=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.add=function(t){this._baseArray.push(t)},r.prototype.addRange=function(t){var r=u.Collection.collectionOrArrayToArray(t);if(!(r.length>0))throw new o.ArgumentException("collectionOrArray","No elements in collectionOrArray");this._baseArray=this._baseArray.concat(r)},r.prototype.clear=function(){this._baseArray.length=0},r.prototype.contains=function(t,r){var e=!1;return void 0!=this.find(t,r||!1)&&(e=!0),e},r.prototype.find=function(t,r){if(void 0===r&&(r=!1),!r){var e=this.findIndex(t);return void 0!==e?this.item(e):void 0}for(var n=0,o=this._baseArray;n<o.length;n++){var u=o[n],a=!1;if(r&&(a=i.equals(u,t)),a)return u}},r.prototype.findIndex=function(t,r){if(void 0===r&&(r=!1),r){var e=void 0;return this.forEach(function(n,o){if(r?i.equals(n,t):n==t)return e=o,!1}),e}var n=this._baseArray.indexOf(t);if(-1!=n)return n},r.prototype.insertAt=function(t,r){this._baseArray.splice(r,0,t)},r.prototype.prepend=function(t){this.insertAt(t,0)},r.prototype.prependRange=function(t){var r=u.Collection.collectionOrArrayToArray(t);(e=this._baseArray).splice.apply(e,[0,0].concat(r));var e},r.prototype.remove=function(t){var r=this.findIndex(t);if(void 0==r)throw new Error("Not in array");this.removeAt(r)},r.prototype.removeAt=function(t){this._baseArray.splice(t,1)},r.prototype.sort=function(t){void 0===t&&(t=new a.DefaultComparer),this._baseArray.sort(function(r,e){return t.compare(r,e)})},r}(u.Collection);r.List=c,u.Collection.prototype.toList=function(){return new c(this.toArray())}},function(t,r,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e(1),i=e(2),u=e(0),a=e(3),c=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.all=function(t){return this._baseArray.every(function(r){return t(r)})},r.prototype.any=function(t){if(void 0!==t){return Array.prototype.some?this._baseArray.some(function(r){return t(r)}):!this.all(function(r){return!t(r)})}return this._baseArray.length>0},r.prototype.average=function(t){var r=this.createSelector(t);return this.sum(function(t){return r(t)})/this.count},r.prototype.clone=function(){return new r(t.prototype.clone.call(this))},r.prototype.distinct=function(t){if(0===this._baseArray.length)return this.asQueryable();var r=this.createSelector(t),e={};return this.where(function(t){var n,o=r(t);return n=o instanceof Object?i.getHash(o):""+o,!e[n]&&(e[n]=!0,!0)})},r.prototype.first=function(t){var r=void 0!==t?this.where(t):this;if(r._baseArray.length>0)return r._baseArray[0];throw new Error("The collection is empty!")},r.prototype.firstOrDefault=function(t){var r=void 0!==t?this.where(t):this;return r._baseArray.length>0?r._baseArray[0]:null},r.prototype.groupBy=function(t){var r=this,e=this.createSelector(t);return this.select(e).distinct(function(t){return t}).select(function(t){return new s(r,t,e)})},r.prototype.last=function(t){var r=void 0!==t?this.where(t):this;if(r._baseArray.length>0)return r._baseArray[r._baseArray.length-1];throw new Error("The collection is empty!")},r.prototype.lastOrDefault=function(t){var r=void 0!==t?this.where(t):this;return r._baseArray.length>0?r._baseArray[r._baseArray.length-1]:null},r.prototype.max=function(t){var r=this.createSelector(t),e=this.select(function(t){return r(t)}).toArray();return Math.max.apply(Math,e)},r.prototype.min=function(t){var r=this.createSelector(t),e=this.select(function(t){return r(t)}).toArray();return Math.min.apply(Math,e)},r.prototype.ofType=function(t){return this.where(function(r){return r instanceof t}).select(function(t){return t})},r.prototype.orderBy=function(t,r){return this.internalOrderBy(this.createSelector(t),r||new a.DefaultComparer)},r.prototype.orderByDescending=function(t,r){return this.internalOrderBy(this.createSelector(t),new a.ReverseComparer(r||new a.DefaultComparer))},r.prototype.skip=function(t){var e=this.toArray();return e.splice(0,t),new r(e)},r.prototype.select=function(t){var e=this.createSelector(t);return new r(this._baseArray.map(function(t){return e(t)}))},r.prototype.sum=function(t){var r=this.createSelector(t);return this.select(function(t){return r(t)}).toArray().reduce(function(t,r){return t+r},0)},r.prototype.take=function(t){return new r(this.toArray().splice(0,t))},r.prototype.where=function(t){return new r(this._baseArray.filter(t))},r.prototype.internalOrderBy=function(t,e){var n=new a.MapComparer(e,t);return new r(this.toArray().sort(function(t,r){return n.compare(t,r)}))},r.prototype.createSelector=function(t){return"string"==typeof t?function(r){if("function"==typeof r[t])throw new u.NotSupportedException("property names that are functions ('"+t+"')");return r[t]}:t},r}(o.Collection);r.Queryable=c;var s=function(){function t(t,r,e){this._parentQueryable=t,this._key=r,this._keySelector=e}return Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupedRows",{get:function(){var t=this,r=new a.DefaultComparer;return this._groupedRows||(this._groupedRows=this._parentQueryable.where(function(e){return r.equals(t._keySelector(e),t._key)}))},enumerable:!0,configurable:!0}),t}();r.GroupedQueryable=s,o.Collection.prototype.asQueryable=function(){return new c(this)},o.Collection.prototype.ofType=function(t){return this.asQueryable().where(function(r){return r instanceof t}).select(function(t){return t})}},function(t,r,e){"use strict";/*!
 * collections v1.0.0
 * ------------------------
 * Collections for JS and TypeScript
 * ï¿½ 2017 Michael Coxon
 * https://github.com/michaelcoxon/collections#readme
 */
function n(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),n(e(1)),n(e(4)),n(e(5)),n(e(6))}]);